{
    "info": {
        "name": "Trace API",
        "description": "API documentation for the Trace attendance system",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Sign In",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/signin",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "signin"]
                        }
                    }
                },
                {
                    "name": "Refresh Token",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/refresh-token",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "refresh-token"]
                        }
                    }
                },
                {
                    "name": "Sign Out",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/signout",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "signout"]
                        }
                    }
                },
                {
                    "name": "Send OTP",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/send-otp",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "send-otp"]
                        }
                    }
                },
                {
                    "name": "Verify OTP",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\",\n    \"otp\": \"123456\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/verify-otp",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "verify-otp"]
                        }
                    }
                },
                {
                    "name": "Send Verification Email",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/send-verification-email",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "send-verification-email"]
                        }
                    }
                },
                {
                    "name": "Verify Email",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/verify-email",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "auth", "verify-email"]
                        }
                    }
                }
            ]
        },
        {
            "name": "User",
            "item": [
                {
                    "name": "Sign Up",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"password123\",\n    \"name\": \"John Doe\",\n    \"role\": \"student\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/user/signup",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "user", "signup"]
                        }
                    }
                },
                {
                    "name": "Upload Avatar",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "avatar",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/user/upload-avatar",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "user", "upload-avatar"]
                        }
                    }
                }
            ]
        },
        {
            "name": "Class",
            "item": [
                {
                    "name": "Create Class",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Computer Science 101\",\n    \"code\": \"CS101\",\n    \"lecturerId\": \"lecturer_id\",\n    \"schedule\": {\n        \"day\": \"Monday\",\n        \"startTime\": \"09:00\",\n        \"endTime\": \"11:00\"\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/class",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class"]
                        }
                    }
                },
                {
                    "name": "Update Class",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Updated Class Name\",\n    \"code\": \"CS101\",\n    \"lecturerId\": \"lecturer_id\",\n    \"schedule\": {\n        \"day\": \"Monday\",\n        \"startTime\": \"09:00\",\n        \"endTime\": \"11:00\"\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId"]
                        }
                    }
                },
                {
                    "name": "Delete Class",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId"]
                        }
                    }
                },
                {
                    "name": "Get Lecturer Classes",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/lecturer",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", "lecturer"]
                        }
                    }
                },
                {
                    "name": "Get Class Details",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId"]
                        }
                    }
                },
                {
                    "name": "Get Class Students",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId/students",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId", "students"]
                        }
                    }
                },
                {
                    "name": "Enroll Student",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId/students/:studentId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId", "students", ":studentId"]
                        }
                    }
                },
                {
                    "name": "Get Class Schedule",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId/schedule",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId", "schedule"]
                        }
                    }
                },
                {
                    "name": "Get Class Statistics",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/:classId/statistics",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", ":classId", "statistics"]
                        }
                    }
                },
                {
                    "name": "Search Classes",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/class/search",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "class", "search"]
                        }
                    }
                }
            ]
        },
        {
            "name": "Attendance",
            "item": [
                {
                    "name": "Start Session",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"classId\": \"class_id\",\n    \"startTime\": \"2024-05-02T09:00:00Z\",\n    \"endTime\": \"2024-05-02T11:00:00Z\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/sessions",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "sessions"]
                        }
                    }
                },
                {
                    "name": "End Session",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/sessions/:sessionId/end",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "sessions", ":sessionId", "end"]
                        }
                    }
                },
                {
                    "name": "Get Class Attendance Report",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/classes/:classId/report",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "classes", ":classId", "report"]
                        }
                    }
                },
                {
                    "name": "Get Student Attendance Report",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/students/:studentId/classes/:classId/report",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "students", ":studentId", "classes", ":classId", "report"]
                        }
                    }
                },
                {
                    "name": "Export Attendance Report",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/classes/:classId/export",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "classes", ":classId", "export"]
                        }
                    }
                },
                {
                    "name": "Student Check In",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"sessionId\": \"session_id\",\n    \"classId\": \"class_id\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/check-in",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "check-in"]
                        }
                    }
                },
                {
                    "name": "Get Session Attendance",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/sessions/:sessionId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "sessions", ":sessionId"]
                        }
                    }
                },
                {
                    "name": "Get Student Attendance History",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/students/:studentId/classes/:classId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "students", ":studentId", "classes", ":classId"]
                        }
                    }
                },
                {
                    "name": "Automatic Check In",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"sessionId\": \"session_id\",\n    \"studentId\": \"student_id\",\n    \"confidence\": 0.95\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/attendance/auto-checkin",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "attendance", "auto-checkin"]
                        }
                    }
                }
            ]
        },
        {
            "name": "Notifications",
            "item": [
                {
                    "name": "Get Preferences",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/notifications/preferences/:userId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "notifications", "preferences", ":userId"]
                        }
                    }
                },
                {
                    "name": "Update Preferences",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": true,\n    \"push\": false,\n    \"sms\": true\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/notifications/preferences/:userId",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "notifications", "preferences", ":userId"]
                        }
                    }
                },
                {
                    "name": "Reset Preferences",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/notifications/preferences/:userId/reset",
                            "host": ["{{base_url}}"],
                            "path": ["api", "v1", "notifications", "preferences", ":userId", "reset"]
                        }
                    }
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:3000",
            "type": "string"
        }
    ]
} 